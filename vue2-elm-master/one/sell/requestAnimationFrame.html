<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <style>
    p {
      margin: 0;
      width: 20px;
      height: 20px;
    }
  </style>
</head>
<body>
<p style="background-color: #6dc6be"></p>
<p style="background-color: #baba9e"></p>
<p style="background-color: #959bc5"></p>
<p style="background-color: #cdd2ff"></p>
<p style="background-color: #919eff"></p>
<p style="background-color: #7fd498"></p>
<p style="background-color: #d090d2"></p>
<p style="background-color: #386343"></p>
<p style="background-color: #b32bc7"></p>
<p style="background-color: #de8482"></p>
<p style="background-color: #ff7272"></p>
<!--<script>
  console.log(new Date().getTime())
  requestAnimationFrame(function() {
    console.log(new Date().getTime())
    console.log(234);
  })
</script>-->

<!--<div id="myDiv" style="background-color: lightblue;width: 0;height: 20px;line-height: 20px;">0%</div>
<button id="btn">run</button>
<script>
  var timer;
  btn.onclick = function(){
    clearInterval(timer);
    myDiv.style.width = '0';
    timer = setInterval(function(){
      if(parseInt(myDiv.style.width) < 500){
        myDiv.style.width = parseInt(myDiv.style.width) + 5 + 'px';
        myDiv.innerHTML =     parseInt(myDiv.style.width)/5 + '%';
      }else{
        clearInterval(timer);
      }
    },16);
  }
</script>-->

<!--<div id="myDiv" style="background-color: lightblue;width: 0;height: 20px;line-height: 20px;">0%</div>
<button id="btn">run</button>
<script>
  var timer;
  btn.onclick = function(){
    clearTimeout(timer);
    myDiv.style.width = '0';
    timer = setTimeout(function fn(){
      if(parseInt(myDiv.style.width) < 500){
        myDiv.style.width = parseInt(myDiv.style.width) + 5 + 'px';
        myDiv.innerHTML = parseInt(myDiv.style.width)/5 + '%';
        timer = setTimeout(fn,16);
      }else{
        clearTimeout(timer);
      }
    },16);
  }
</script>-->

<div id="myDiv" style="background-color: lightblue;width: 0;height: 20px;line-height: 20px;">0%</div>
<button id="btn">run</button>
<script>
  var timer;
  btn.onclick = function(){
    myDiv.style.width = '0';
    cancelAnimationFrame(timer);
    timer = requestAnimationFrame(function fn(){
      if(parseInt(myDiv.style.width) < 500){
        myDiv.style.width = parseInt(myDiv.style.width) + 5 + 'px';
        myDiv.innerHTML =     parseInt(myDiv.style.width)/5 + '%';
        timer = requestAnimationFrame(fn);
      }else{
        cancelAnimationFrame(timer);
      }
    });
  }

  "#6dc6be", "#baba9e", "#959bc5", "#cdd2ff", "#919eff", "#7fd498", "#d090d2", "#386343", "#b32bc7", "#de8482", "#ff7272"
</script>
</body>
</html>
