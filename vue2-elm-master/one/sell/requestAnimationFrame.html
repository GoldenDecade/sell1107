<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
<p type="123" style="margin: 20px 20px 10px 5px;" id="pa" au="qwer">weqrq</p>

<script>
  window.onload = function() {
    function getStyle(element, attr, NumberMode = 'int')  {
      let res
//  scrollTop 获取方式不同，因为它不属于style，属于DOM元素
      if(attr === 'scrollTop') {
        res = element.scrollTop
      }else if(element.currentStyle) { // IE获取元素的style
        res = element.currentStyle[attr]
      }else { // document.defaultView更加严谨，指的是当前document对象所关联的window对象，如果没有则返回null
        //一般使用window.getComputedStyle(元素, 伪类)[属性名]
        res = document.defaultView.getComputedStyle(element, null)[attr]
      }
//  在获取opacity的时候需要获取小数
      return NumberMode == 'float' ? parseFloat(res) : parseInt(res)
    }

    var p = document.getElementById('pa')
    console.log(document.defaultView.getComputedStyle(p, null)['marginBottom']); //  '10px'
    console.log(document.defaultView.getComputedStyle(p, null)['margin']); // '20px 20px 10px 5px'
  }

</script>
</body>
</html>
